

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Main Utils &mdash; VectorCloud 2.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Database Models" href="models.html" />
    <link rel="prev" title="Installation" href="install.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #00ee93" >
          

          
            <a href="index.html" class="icon icon-home"> VectorCloud
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html"> Installation</a></li>
</ul>
<p class="caption"><span class="caption-text">Development:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#"> Main Utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html"> Database Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-usage.html"> Rest API Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html"> Rest API Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">VectorCloud</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Main Utils</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/utils.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-vectorcloud.main.utils">
<span id="main-utils"></span><h1>Main Utils<a class="headerlink" href="#module-vectorcloud.main.utils" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="vectorcloud.main.utils.add_edit_script">
<code class="sig-prename descclassname">vectorcloud.main.utils.</code><code class="sig-name descname">add_edit_script</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">description</em>, <em class="sig-param">commands</em>, <em class="sig-param">script_id=None</em><span class="sig-paren">)</span><a class="headerlink" href="#vectorcloud.main.utils.add_edit_script" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is what adds and edits scripts to the vectorcloud database. It is the basis for how plugins are installed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of script</p></li>
<li><p><strong>description</strong> (<em>str</em>) – Short description of what script does</p></li>
<li><p><strong>commands</strong> (<em>str</em>) – SDK/VectorCloud commands to be processed by robot_do in comma separated format</p></li>
<li><p><strong>script_id</strong> (<em>int</em>) – database id for script</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The script database object as a dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="vectorcloud.main.utils.get_stats">
<code class="sig-prename descclassname">vectorcloud.main.utils.</code><code class="sig-name descname">get_stats</code><span class="sig-paren">(</span><em class="sig-param">vector_id</em>, <em class="sig-param">return_stats=False</em><span class="sig-paren">)</span><a class="headerlink" href="#vectorcloud.main.utils.get_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is the central function for getting statistic data from Vector.
It uses whatever SDK commands that I can find that return stats. When called
it will either return the stats, or emit them to the web client for updating the ui,
depending on the state of ‘return_stats’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vector_id</strong> (<em>int</em>) – The database ID for the Vector you want to control. If empty this defaults to ‘1’, which is the first Vector registered in the database</p></li>
<li><p><strong>return_stats</strong> (<em>bool</em>) – Default is True, if set to False, the server will not emit the stats to the web client, instead it will return the response.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If return_stats is set to True, this function will return the response of the function as a dictionary object. If return_stats is False, this function will return nothing, but emit the stats to the web client</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="vectorcloud.main.utils.logbook_log">
<code class="sig-prename descclassname">vectorcloud.main.utils.</code><code class="sig-name descname">logbook_log</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">info=None</em>, <em class="sig-param">log_type=None</em>, <em class="sig-param">emit_logbook=True</em><span class="sig-paren">)</span><a class="headerlink" href="#vectorcloud.main.utils.logbook_log" title="Permalink to this definition">¶</a></dt>
<dd><p>This function writes to the VectorCloud logbook. Optionally, it emits the logbook html to the web client to replace the current representation of the logbook in the web client.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – a title for the logbook entry</p></li>
<li><p><strong>info</strong> (<em>str</em>) – info for the logbook entry (often used for storing the output of commands)</p></li>
<li><p><strong>log_type</strong> (<em>str</em>) – log type, changes some css classes in the web client, options are ‘success’, ‘fail’, None</p></li>
<li><p><strong>emit_logbook</strong> (<em>bool</em>) – If emit_logbook is set to False, this function will return nothing. If emit_logbook is True, this function will emit the logbook to the web client</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="vectorcloud.main.utils.robot_do">
<code class="sig-prename descclassname">vectorcloud.main.utils.</code><code class="sig-name descname">robot_do</code><span class="sig-paren">(</span><em class="sig-param">commands</em>, <em class="sig-param">vector_id</em>, <em class="sig-param">emit_logbook=True</em>, <em class="sig-param">args=None</em><span class="sig-paren">)</span><a class="headerlink" href="#vectorcloud.main.utils.robot_do" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is the central function for passing commands to Vector. It is also
responsible for launching scripts, which in turn can import and call plugins.
Commands are given to function as a comma separated string - meaning you can send
multiple commands - just put a comma between them, no spaces. Arguments are provided
by the script or the user and are applied to the namespace before the commands are
run, simply by calling them like so: x = 1. Each command is run and logged in the
logbook item, if it run successfully, the output is logged, if it fails, the error
is logged. When it’s done it either returns the result of the commands in a string
or it emits the logbook item to the web client, depending on the state of
emit_logbook. It then runs get_stats to update the web client with vector’s new stats.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>commands</strong> (<em>str</em>) – SDK/VectorCloud commands to be processed by robot_do in comma separated format</p></li>
<li><p><strong>vector_id</strong> (<em>int</em>) – The database ID for the Vector you want to control. If empty this defaults to ‘1’, which is the first Vector registered in the database</p></li>
<li><p><strong>emit_logbook</strong> (<em>bool</em>) – Default is True, if set to False, the server will not refresh the logbook in the web client.</p></li>
<li><p><strong>args</strong> (<em>str</em>) – Arguments allow the command/script to set variables before executing commands. These are also in comma separated format.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If emit_logbook is set to False, this function will return the response of all executed commands combined into one string. If emit_logbook is True, this function will return nothing, but request the logbook to update the web client</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="models.html" class="btn btn-neutral float-right" title="Database Models" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="install.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Ross Mountjoy

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>